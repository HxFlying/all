{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\pro_\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\pro_\\vue_app_000\\vue_app_00\\src\\components\\xz\\Cart.vue?vue&type=style&index=0&id=1a6f731a&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\pro_\\vue_app_000\\vue_app_00\\src\\components\\xz\\Cart.vue","mtime":1567559496767},{"path":"C:\\Users\\Administrator\\Desktop\\pro_\\vue_app_000\\vue_app_00\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\pro_\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"C:\\Users\\Administrator\\Desktop\\pro_\\vue_app_000\\vue_app_00\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\pro_\\vue_app_000\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\Administrator\\Desktop\\pro_\\vue_app_000\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* 最外层浮动换行 */\r\n.rootstyle{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n   \r\n    \r\n}\r\n/* 商品列表最外面 */\r\n.productstyle{\r\n  display: flex;\r\n  padding: 5px;\r\n  border:1px solid #ccc;\r\n  width:100%;\r\n  border:2px solid red;\r\n  border-radius: 5px;\r\n \r\n  \r\n}\r\n/* 信息和价格最外面样式 */\r\n.productinfo{\r\n    margin-left:10px; \r\n    padding-top: 10px;\r\n    \r\n}\r\n/* 头部样式 */\r\n.head,.h1color{\r\n    background-color:red;\r\n    width: 100%;\r\n    color:floralwhite;\r\n    padding: 1px;\r\n   \r\n \r\n\r\n  \r\n}\r\n/* 头部文字样式 */\r\n.headfont{\r\n    font-size: 20px;\r\n    text-align: center;\r\n    \r\n     \r\n}\r\n/* 全选按钮样式 */\r\n.allbtn{\r\n    margin-left:5px; \r\n}\r\n/* 全选按钮文字样式 */\r\n.allselfont{\r\n    font-size: 15px;\r\n    \r\n}\r\n/* 图片样式 */\r\n.imgstyle{\r\n    margin-left: 5px;\r\n}\r\n/* 商品名字样式 */\r\n.lnamefont{\r\n    font-size: 18px;\r\n    font-weight:bold\r\n}\r\n/* 单价、数量 、总价样式 */\r\n.pricefont,.countaddfont,.tidfont,.numfont{\r\n    font-size:13px;\r\n    color: #666;\r\n}\r\n/* 价格字样式 */\r\n.countaddfont,.pricefont{\r\n    color:red;\r\n}\r\n/* 单个删除button样式 */\r\n.singelbtn{\r\n        font-style: italic;\r\n        color:red;\r\n        font-size: 10px;\r\n}\r\n/* 单个删除按钮 */\r\n.singelstyle{\r\n    margin-left:150px; \r\n}\r\n/* head样式 */\r\n.head{\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n/* 总删除按钮 */\r\n.allbtndel{\r\n    margin-right:5px;\r\n    margin-bottom:5px;  \r\n}\r\n/* 合计样式 */\r\n.priceall{\r\n   \r\n    width: 100%;\r\n   \r\n    line-height: 100px;\r\n    font-size: 25px;\r\n    margin-left: 10px;\r\n   \r\n}\r\n/* 合计文字样式 */\r\n.priceallstyle{\r\n   font-style: italic;\r\n    height:40px;\r\n    color:#000;\r\n    font-size: 25px\r\n    \r\n}\r\n/* 提交和合计样式 */\r\n.submitandsum{\r\n background-color: red;\r\n display: flex;\r\n justify-content: space-around;\r\n width: 100%;\r\n border:1px solid #fff;\r\n padding: 2px;\r\n border-radius: 5px;\r\n}\r\n/* 提交按钮 */\r\n.sumbtn{\r\n    display: flex;\r\n   justify-content: space-around;\r\n   width:80px;\r\n   margin-right:20px; \r\n   align-items: center;\r\n \r\n}\r\n/* 提交按钮样式 */\r\n.substyle{\r\n    color:red;\r\n    \r\n    background-color: aliceblue\r\n\r\n}\r\n/* 总价文字样式 */\r\n.countaddfont{\r\n    margin:0;\r\n  \r\n   \r\n}\r\n\r\n/* 数量字体样式 */\r\n.countfont{\r\n    font-size: 10px;\r\n    min-width: 20px;\r\n    padding: 5px;\r\n    margin:0 5px; \r\n    \r\n   \r\n}\r\n\r\n\r\n",{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyMA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"Cart.vue","sourceRoot":"src\\components\\xz","sourcesContent":["<template>\r\n<div class=\"rootstyle\">\r\n    <div class=\"h1color\">\r\n    <h1>购物车列表</h1>\r\n    </div>\r\n<div class=\"head\">\r\n    \r\n <!-- 全选按钮 --> \r\n <div class=\"allbtn\"> \r\n<label for=\"selc\">\r\n<input type=\"checkbox\"  id=\"selc\">\r\n<span class=\"allselfont\" >全选</span>\r\n</label>\r\n</div>\r\n<!-- 总删除按钮 -->\r\n<div class=\"allbtndel\">\r\n    <button @click=\"delallproc\">×</button>\r\n</div>\r\n</div>\r\n\r\n<!-- 商品列表 -->\r\n<div class=\"productstyle\" v-for=\"(item,index) of list\" :key=\"index\">\r\n    <!-- 商品编号按钮 -->\r\n    <div class=\"\">\r\n    <!-- 复选框按钮 -->\r\n   <input type=\"checkbox\" v-model=\"item.is_checked\" @click=\"ischecked\">\r\n   </div>\r\n  <!-- 商品图片 -->\r\n       <div class=\"imgstyle\">\r\n      <img :src=\"'http://127.0.0.1:8080/'+item.img_url\"  />\r\n      </div>\r\n  <!-- 商品标题和价格 -->\r\n <div class=\"productinfo\"> \r\n     <!-- 商品名字 -->\r\n     <div class=\"lnamestyle\">\r\n      <span class=\"lnamefont\">{{item.lname}}</span>\r\n      </div>\r\n      <!-- 价格 -->\r\n      <div  class=\"pricestyle\">\r\n      <span class=\"pricefont\">单价:¥{{item.price.toFixed(2)}}</span>\r\n      </div>\r\n      <!-- 商品编号 -->\r\n      <div class=\"productid\">\r\n      <span class=\"tidfont\">商品编号:{{item.id}}</span>\r\n      </div>\r\n      <div class=\"countfontstyle\">\r\n          <span class=\"numfont\">数量:</span>\r\n       <button @click=\"chan\"  :data-index=\"index\" :data-counts=\"item.count\" :data-n=\"-1\" >-</button>\r\n         <span class=\"countfont\" v-text=\"item.count\"></span>\r\n       <button @click=\"chan\" :data-counts=\"item.count\" :data-n=\"+1\" :data-index=\"index\">+</button>\r\n     </div>\r\n     <!-- 合计 -->\r\n     <div class=\"countadd\">\r\n         <h3 class=\"countaddfont\">总价:¥{{item.count*item.price}}</h3>\r\n   </div>\r\n   <!-- 单个删除按钮 -->\r\n       <div class=\"singelstyle\">\r\n    <button @click=\"delproduct\" :data-i=\"index\" >×</button>\r\n     </div>\r\n</div> \r\n\r\n</div> \r\n<div class=\"submitandsum\">\r\n<!-- 合计按钮 -->\r\n<div class=\"priceall\">\r\n    <span class=\"priceallstyle\">合计:¥{{total.toFixed(2)}}</span>\r\n</div>\r\n<!-- 提交按钮 -->\r\n<div class=\"sumbtn\"> \r\n    <mt-button class=\"substyle\" >提交</mt-button>\r\n   </div>\r\n </div>\r\n</div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return{\r\n            list:[],   //当前用户购物车列表\r\n            price:\"\",\r\n            n:0,\r\n            chk:false,\r\n          \r\n          \r\n            \r\n        }\r\n    },\r\n    created(){\r\n        // 当前组件创建成功回调函数\r\n        this.loadMore();\r\n    },\r\n     methods:{\r\n      \r\n       \r\n\r\n         //加减数量按钮\r\n         chan(e){\r\n             //传入数量\r\n             var sum=e.target.dataset.counts;\r\n             var i=e.target.dataset.n;\r\n             var index=e.target.dataset.index;\r\n             //判断i的正负值\r\n             if(i<1){\r\n             this.list[index].count--;  \r\n             }else {\r\n            this.list[index].count++;};\r\n            if(this.list[index].count<1){\r\n                this.list[index].count=0;\r\n                 this.$messagebox\r\n            .confirm(\"是否删除此商品！\")//确认内容\r\n            .then(res=>{\r\n               \r\n                this.list.splice(index,1)\r\n            }).catch(err=>{         //取消后回调函数\r\n                console.log(err);\r\n            })\r\n\r\n            }\r\n        },\r\n        //删除全部商品按钮函数\r\n        delallproc(e){\r\n            this.$messagebox\r\n            .confirm(\"是否删除全部商品！并返回商品列表页\")//确认内容\r\n            .then(res=>{          //确认执行成功后回调用\r\n                if(e.target.nodeName== \"BUTTON\"){\r\n              //获取数组长度\r\n                var length = this.list.length;\r\n                this.list.splice(0,length);\r\n                this.$router.push(\"/product\");\r\n            }\r\n            }).catch(err=>{         //取消后回调函数\r\n                console.log(err);\r\n            })\r\n            //确认，消息框 异步\r\n            \r\n        },\r\n        // delallproc(e){\r\n        //     if(e.target.nodeName== \"BUTTON\"){\r\n        //       //获取数组长度\r\n        //        var length = this.list.length;\r\n        //         this.list.splice(0,length);\r\n        //     }\r\n        // },\r\n        // 单个删除按钮 \r\n        delproduct(e){\r\n            if(e.target.nodeName== \"BUTTON\"){\r\n                var i=parseInt(e.target.dataset.i)\r\n                if(this.list.length==1){\r\n                     this.$messagebox\r\n            .confirm(\"是否删除最后一件商品！并返回列表页\")//确认内容\r\n            .then(res=>{          //确认执行成功后回调用\r\n               this.$router.push(\"/product\");\r\n           }).catch(err=>{         //取消后回调函数\r\n                console.log(err);\r\n            })\r\n             }\r\n                else{this.list.splice(i,1);}\r\n               \r\n            }\r\n\r\n        },\r\n         loadMore(){\r\n            // 功能:获取当前用户购物车列表\r\n            // 1:创建url请求服务器地址\r\n            var url=\"carts\";\r\n            // 2：发送ajax请求 请求(让服务器程序完成功能)\r\n            this.axios.get(url).then(res=>{\r\n                if(res.data.code == -1){\r\n              // 4：如果服务器返回-1 请登录\r\n              this.$messagebox(\"消息\",\"请登录\").then(res=>{\r\n                 //回调函数(用户点击确认按钮后调用)\r\n                 this.$router.push(\"/Login\")\r\n               })\r\n          }else{// 3：获取服务器返回数据\r\n                   var rows = res.data.data;\r\n               for(var item of rows){\r\n                   //3.2为其添加属性cb值false\r\n                   item.cb = false;\r\n                }\r\n                //3.3将新数组赋值list(顺序)\r\n                 this.list = rows;\r\n             }\r\n            \r\n          })\r\n         }\r\n     },\r\n     computed:{\r\n        total(){\r\n            // //单选按钮计算属性，选中才计算总价\r\n                var total=0;\r\n                for(var item of this.list){\r\n                    if(item.is_checked){\r\n                       \r\n                     total+=item.price*item.count\r\n                      }\r\n           }  return total;\r\n         }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n/* 最外层浮动换行 */\r\n.rootstyle{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n   \r\n    \r\n}\r\n/* 商品列表最外面 */\r\n.productstyle{\r\n  display: flex;\r\n  padding: 5px;\r\n  border:1px solid #ccc;\r\n  width:100%;\r\n  border:2px solid red;\r\n  border-radius: 5px;\r\n \r\n  \r\n}\r\n/* 信息和价格最外面样式 */\r\n.productinfo{\r\n    margin-left:10px; \r\n    padding-top: 10px;\r\n    \r\n}\r\n/* 头部样式 */\r\n.head,.h1color{\r\n    background-color:red;\r\n    width: 100%;\r\n    color:floralwhite;\r\n    padding: 1px;\r\n   \r\n \r\n\r\n  \r\n}\r\n/* 头部文字样式 */\r\n.headfont{\r\n    font-size: 20px;\r\n    text-align: center;\r\n    \r\n     \r\n}\r\n/* 全选按钮样式 */\r\n.allbtn{\r\n    margin-left:5px; \r\n}\r\n/* 全选按钮文字样式 */\r\n.allselfont{\r\n    font-size: 15px;\r\n    \r\n}\r\n/* 图片样式 */\r\n.imgstyle{\r\n    margin-left: 5px;\r\n}\r\n/* 商品名字样式 */\r\n.lnamefont{\r\n    font-size: 18px;\r\n    font-weight:bold\r\n}\r\n/* 单价、数量 、总价样式 */\r\n.pricefont,.countaddfont,.tidfont,.numfont{\r\n    font-size:13px;\r\n    color: #666;\r\n}\r\n/* 价格字样式 */\r\n.countaddfont,.pricefont{\r\n    color:red;\r\n}\r\n/* 单个删除button样式 */\r\n.singelbtn{\r\n        font-style: italic;\r\n        color:red;\r\n        font-size: 10px;\r\n}\r\n/* 单个删除按钮 */\r\n.singelstyle{\r\n    margin-left:150px; \r\n}\r\n/* head样式 */\r\n.head{\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n/* 总删除按钮 */\r\n.allbtndel{\r\n    margin-right:5px;\r\n    margin-bottom:5px;  \r\n}\r\n/* 合计样式 */\r\n.priceall{\r\n   \r\n    width: 100%;\r\n   \r\n    line-height: 100px;\r\n    font-size: 25px;\r\n    margin-left: 10px;\r\n   \r\n}\r\n/* 合计文字样式 */\r\n.priceallstyle{\r\n   font-style: italic;\r\n    height:40px;\r\n    color:#000;\r\n    font-size: 25px\r\n    \r\n}\r\n/* 提交和合计样式 */\r\n.submitandsum{\r\n background-color: red;\r\n display: flex;\r\n justify-content: space-around;\r\n width: 100%;\r\n border:1px solid #fff;\r\n padding: 2px;\r\n border-radius: 5px;\r\n}\r\n/* 提交按钮 */\r\n.sumbtn{\r\n    display: flex;\r\n   justify-content: space-around;\r\n   width:80px;\r\n   margin-right:20px; \r\n   align-items: center;\r\n \r\n}\r\n/* 提交按钮样式 */\r\n.substyle{\r\n    color:red;\r\n    \r\n    background-color: aliceblue\r\n\r\n}\r\n/* 总价文字样式 */\r\n.countaddfont{\r\n    margin:0;\r\n  \r\n   \r\n}\r\n\r\n/* 数量字体样式 */\r\n.countfont{\r\n    font-size: 10px;\r\n    min-width: 20px;\r\n    padding: 5px;\r\n    margin:0 5px; \r\n    \r\n   \r\n}\r\n\r\n\r\n</style>"]}]}